<div class="componente">

    <cdk-accordion class="accordion">
        <cdk-accordion-item #accordionItem="cdkAccordionItem" class="accordionItem">
            <button
            (click)="accordionItem.toggle()"
            [attr.aria-expanded]="accordionItem.expanded"
            >
            Productos
            </button>
        </cdk-accordion-item>
    </cdk-accordion>

    @if(accordionItem.expanded ){

    <table mat-table [dataSource]="dataSource" class="form">
        <ng-container  matColumnDef="producto">
            <th mat-header-cell *matHeaderCellDef class="sticky-col"> Producto </th>
            <td mat-cell *matCellDef="let element" class="sticky-col" >
                <input class="input" [(ngModel)]="element.producto" type="text">
            </td>
        </ng-container>

        <ng-container  matColumnDef="cantidad">
            <th mat-header-cell *matHeaderCellDef> Cantidad </th>
            <td mat-cell *matCellDef="let element" >
                <input class="input" [(ngModel)]="element.cantidad" type="number">
            </td>
        </ng-container>

        <ng-container  matColumnDef="precioUnitario">
            <th mat-header-cell *matHeaderCellDef> precio Unitario </th>
            <td mat-cell *matCellDef="let element" >
                <input class="input" [(ngModel)]="element.precioUnitario" type="number">
            </td>
        </ng-container>

        <ng-container  matColumnDef="imprevisto">
            <th mat-header-cell *matHeaderCellDef> imprevisto </th>
            <td mat-cell *matCellDef="let element" >
                <input class="input" [(ngModel)]="element.imprevisto" type="number">
            </td>
        </ng-container>

        <ng-container  matColumnDef="precioTotal">
            <th mat-header-cell *matHeaderCellDef> precio Total </th>
            <td mat-cell *matCellDef="let element" >
                <p  class="total">$ {{element.cantidad*element.precioUnitario+element.imprevisto}}</p>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="columnas"></tr>
        <tr mat-row *matRowDef="let row; columns: columnas;"></tr>

    </table>

    <button (click)="sumarTotal()" >Show results</button>
}

</div>